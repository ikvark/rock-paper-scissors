<script>
function computerPlay () {
  let x = Math.floor(Math.random()*3+1);

  return x == 3 ? "Rock" : x == 2 ? "Paper" : "Scissors";
}

function formatSelect (strIn) {
  return strIn.charAt(0).toUpperCase() + strIn.slice(1).toLowerCase();
}

function gameResult (playerSelectIn,cScore,pScore) {
  let compSelect = computerPlay();
  let playerSelect = formatSelect(playerSelectIn);
  let winOrLose = 0;

  if (compSelect == playerSelect){ //eliminate ties first
    gameMsg = "It's a tie!";
    playScore = pScore;
    compScore = cScore;
    return;
  } else {
    switch(compSelect){ //Check each case to see who wins
      case "Rock":
        playerSelect == "Paper" ? winOrLose = 1 : winOrLose = 0;
        break;
      case "Paper":
        playerSelect == "Scissors" ? winOrLose = 1 : winOrLose = 0;
        break;
      case "Scissors":
        playerSelect == "Rock" ? winOrLose = 1 : winOrLose = 0;
        break;
      default:
        gameMsg = "Error! Please type \"Rock\", \"Paper\", or \"Scissors\"!";
        playScore = pScore;
        compScore = cScore;
        round--;
        return;
    }
  }

  if (winOrLose == 0){ //win or lose statements and return
    gameMsg = `You Lose! ${compSelect} beats ${playerSelect}`;
    playScore = pScore;
    compScore = cScore++;
    return;
  }
  else{
    gameMsg = `You Win! ${playerSelect} beats ${compSelect}`;
    playScore = pScore++;
    compScore = cScore;
    return
  }

}

function game() {
  let compScore = playScore = 0;
  let round = 1;
  let gameMsg = "";

  while (round < 6){
    let playPrompt = prompt('Type: "Rock", "Paper", or "Scissors"');
    gameResult(playPrompt,compScore,playScore);
    console.log(`Round ${round}\n${gameMsg}\nYour Score: ${playScore}\nComputer Score: ${compScore}`);
    round++;
  }
}
</script>
